---
layout: post
title: CS162自学记录
date: 2019-02-27 17:50
catagories: CS162
---

## hw1 Basic Shell
# tcsetpgrp
该函数的作用是设置前台进程，但是需要注意的是，其只在前台进程中才会起作用，即如果有一个进程控制终端，则该进程可以调用tcsetpgrp将前台进程组ID设置为pgrpid。pgrpid的值应当是在同一会话中的一个进程组的ID，fd必须引用该会话的控制终端。

# 模拟Shell中关于信号处理的注意事项
在模拟Shell时，需要让Shell程序忽略SIGTTOU信号，这是因为这个信号的作用是让一个尝试读取terminal console的后台进程暂停。当我们模拟的Shell在执行完程序之后，前台进程会变为bash（即默认的Shell），同时我们的Shell程序会试图写终端（获取控制权限），此时内核会给我们自己的Shell发送SIGTTOU信号，因此我们的Shell需要忽略这一信号，否则无法控制终端并进一步使用tcsetpgrp函数将自己改回为前台进程
